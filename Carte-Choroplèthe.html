<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Carte Choroplète, Carte Symboles Proportionnels, Carte des Universités">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>DigiEducation - Choroplète</title>
    <link rel="icon" type="image/png" href="images/LOGO.png" />
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="Carte-Choroplèthe.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.5.4, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Carte Choroplèthe">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body u-xl-mode"><header class="u-clearfix u-header u-palette-1-dark-1 u-header" id="sec-aa95"><div class="u-clearfix u-sheet u-sheet-1"><span class="u-file-icon u-icon u-icon-1"><img src="images/2987867.png" alt=""></span>
        <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-3-base u-text-hover-palette-2-base" href="Accueil.html" style="padding: 10px 20px;">Accueil</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-3-base u-text-hover-palette-2-base" href="Carte-Choroplèthe.html" style="padding: 10px 20px;">Carte Choroplèthe</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-3-base u-text-hover-palette-2-base" href="Carte-Symboles-Proportionnels.html" style="padding: 10px 20px;">Carte Symboles Proportionnels</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-3-base u-text-hover-palette-2-base" href="Contact.html" style="padding: 10px 20px;">Contact</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Accueil.html" style="padding: 10px 20px;">Accueil</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Carte-Choroplèthe.html" style="padding: 10px 20px;">Carte Choroplèthe</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Carte-Symboles-Proportionnels.html" style="padding: 10px 20px;">Carte Symboles Proportionnels</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Contact.html" style="padding: 10px 20px;">Contact</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
        <h4 class="u-text u-text-default u-text-white u-text-1">DigiEducation</h4>
      </div></header>
    <section class="u-clearfix u-section-1" id="sec-7dc8">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h1 class="u-align-center u-text u-text-default u-text-palette-5-dark-2 u-title u-text-1">Carte Choroplète</h1>
        <h4 class="u-align-center u-text u-text-2">
          <span class="u-text-palette-2-dark-1">Nombre d'étudiants</span> poursuivant leurs études aux établissements d'enseignement supérieur (universités + établissement ne relevant pas des universités) <span class="u-text-palette-2-dark-1">par 1000 habitants</span>
        </h4>
      </div>
    </section>
    <section class="u-clearfix u-section-2" id="sec-805a">
      <div class="u-clearfix u-sheet u-sheet-1">
        <html lang="en">
        <head>
          <meta charset="utf-8">
          <meta name="viewport"    content="width=device-width, initial-scale=1.0">
          <meta name="description" content="">
          <meta name="author"      content="Sergey Pozhilov (GetTemplate.com)">
          
          
          <!-- Bootstrap -->
          <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css" rel="stylesheet">
          <!-- Icons -->
          <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
          <!-- Fonts -->
          <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Alice|Open+Sans:400,300,700">
          <!-- Custom styles -->
          <link rel="stylesheet" href="assets/css/styles.css">

          <!--[if lt IE 9]> <script src="assets/js/html5shiv.js"></script> <![endif]-->
          <link rel="stylesheet" href="css/leaflet.css" />
          <script src="assets/js/leaflet.js"></script>
          <script src="assets/js/jquery-3.6.0.js"></script>
            <script src="assets/js/leaflet-timeline-slider.js"></script>

        </head>
        <body class="home">

          <div class="container">
            
            <div class="row section featured topspace">
              <div class="row" id="main">
                <style>
                  #map {
                    width: 600px;
                    height: 400px;
                    margin: auto;
                  }
                      .info {
                      padding: 6px 8px;
                          color: white;
                      font: 14px/16px Arial, Helvetica, sans-serif;
                      background: black;
                      background: black;
                      box-shadow: 0 0 15px rgba(0,0,0,0.2);
                      border-radius: 5px;
                  }
                  .info h4 {
                      margin: 0 0 5px;
                      color: #71797E;
                  }
                      .legend {
                         line-height: 18px;
                         color: #ffffff;
                      }
                      .legend i {
                         width: 18px;
                         height: 18px;
                         float: left;
                         margin-right: 8px;
                         opacity: 1;
                  }
                  .col-left {
                    flex: 1;
                    margin-left: 10px;
                  }
                  .col-right {
                    flex: 1.25;
                    margin-right: 10px;
                  }
              
                </style>
                  <div class="col-right">
                  <div id='map'></div>
                          <script type="text/javascript" src="region.js"></script>


                          <script type="text/javascript">
                      

                             var mymap = L.map('map').setView([28.60, -4.90], 5);
                      
                             L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                 attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                             }).addTo(mymap);

                              var geoJson =L.geoJson(region)
                      
                              function getColor(attribut) {
                                  return attribut > 40 ? '#08298A' :
                                         attribut > 30 ? '#0040FF' :
                                         attribut > 20 ? '#5882FA' :
                                         attribut > 10 ? '#81BEF7' :
                                                              '#FFFFFF';
                              }
                              function stylisermonFeature(feature) {
                                  return {
                                weight: 2,
                                opacity: 1,
                                color: 'black',
                                /*dashArray: '3',*/
                                fillOpacity: 1,
                                fillColor: getColor(feature.properties.prc)
                              };
                            }


                      

                              function highlightFeature(e) {
                            var layer = e.target;

                                layer.setStyle({
                                weight: 5,
                                color: '#666',
                                dashArray: '',
                                fillOpacity: 0.7
                            });

                                if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                                layer.bringToFront();
                                }
                                info.update(layer.feature.properties);

                            }

                          function resetHighlight(e) {
                            geojson.resetStyle(e.target);
                                info.update();

                        }
                          function zoomToFeature(e) {
                              map.fitBounds(e.target.getBounds());
                          }

                          function onEachFeature(feature, layer) {
                          layer.on({
                              mouseover: highlightFeature,
                              mouseout: resetHighlight,
                              click: zoomToFeature,
                      
                          });
                      
                  
                          }
                          
                      var info = L.control(); 
                          

                      info.onAdd = function (mymap) {
                          this._div = L.DomUtil.create('div', 'info'); 
                          this.update();
                          return this._div;
                      };


                      info.update = function (props) {
                          this._div.innerHTML = '<h4>Maroc</h4>' +  (props ?
                              'Region : ' + props.region + '</b> <br />Etudiants par 1000 hab : ' + props.prc + '</sup>'
                              : 'Vous êtes hors le Maroc !');
                      };

                      info.addTo(mymap);

                      getDataAddMarkers = function( {label, value, map, exclamation} ) {
                              map.eachLayer(function (layer) {
                                      if (layer instanceof L.Marker) {
                                          map.removeLayer(layer);
                                      }
                              });

                              filteredData = region.features.filter(function (i, n) {
                                  return i.properties.title===label;
                                  });

                              /*var markerArray = [];*/
                              
                              geojson = L.geoJson(filteredData, {
                                  style: stylisermonFeature,
                                  onEachFeature: onEachFeature,
                                      /*content = `${exclamation} <br> ${feature.properties.content} `
                                      var popup = L.popup().setContent(content);
                                      layer.bindPopup(popup);
                                      markerArray.push(layer);
                                      layer.on({
                                          mouseover: highlightFeature,
                                          mouseout: resetHighlight,
                      
                                      })
                                  }*/
                              }).addTo(mymap);
                              
                              /*var markerGroup = L.featureGroup(markerArray);
                              map.fitBounds(markerGroup.getBounds()).setZoom(8);*/
                          };

                          L.control.timelineSlider({
                              timelineItems: ["2018/2019", "2019/2020", "2020/2021", "2021/2022"], 
                              changeMap: getDataAddMarkers,
                              extraChangeMapParams: {exclamation: "region.feature.properties.region"} })
                          .addTo(mymap);
                          var legend = L.control({ position: "bottomright" });

                      legend.onAdd = function (mymap) {
                        var div = L.DomUtil.create("div", "info legend"),
                          grades = [0, 10, 20, 30, 40],
                          labels = [];

                
                        for (var i = 0; i < grades.length; i++) {
                          div.innerHTML +=
                          '<i style="background:' +
                          getColor(grades[i] + 1) +
                          '"></i> ' +
                          grades[i] +
                          (grades[i + 1] ? "&ndash;" + grades[i + 1] + "<br>" : "+");
                        }

                        return div;
                      };

                      legend.addTo(mymap);    


                      </script>
                  </div>
              </div>
            </div> <!-- / section -->

        <!-- JavaScript libs are placed at the end of the document so the pages load faster -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
        <script src="assets/js/template.js"></script>
        </body>
        </html>
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-42b7"><div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1"> PROJET WEB-MAPPING 2022</p>
      </div></footer>
  </body>
</html>